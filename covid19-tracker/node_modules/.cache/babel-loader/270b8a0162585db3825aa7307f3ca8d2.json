{"ast":null,"code":"import React,{useEffect,useRef}from'react';import*as d3 from\"d3\";import'./Modal.css';function numberWithCommas(x){return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g,',');}var ModalContent=function ModalContent(props){var ref=useRef(null);var createPie=d3.pie().value(function(d){return d;}).sort(null);var createArc=d3.arc().innerRadius(props.innerRadius).outerRadius(props.outerRadius);var colors=d3.scaleOrdinal(d3.schemeCategory10);useEffect(function(){var data=createPie(props.data);var group=d3.select(ref.current);var groupWithData=group.selectAll(\"g.arc\").data(data);groupWithData.exit().remove();console.log(numberWithCommas(props.data[0]));var groupWithUpdate=groupWithData.enter().append(\"g\").attr(\"class\",\"arc\");var path=groupWithUpdate.append(\"path\").merge(groupWithData.select(\"path.arc\"));path.attr(\"class\",\"arc\").attr(\"d\",createArc).attr(\"fill\",function(d,i){return colors(i);});var text=groupWithUpdate.append(\"text\").merge(groupWithData.select(\"text\"));text.attr(\"text-anchor\",\"middle\").attr(\"alignment-baseline\",\"middle\").attr(\"transform\",function(d){return\"translate(\".concat(createArc.centroid(d),\")\");}).style(\"fill\",\"white\");},[props.data]);return/*#__PURE__*/React.createElement(\"div\",{className:\"panel\"},/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:'1.8rem',color:'#fff'}},props.name.name),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:'1.2rem',color:'#fff',opacity:'0.6'}},\"COVID-19 STATUS\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"modal_info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info_block\",style:{color:colors(0),fontSize:'1.3em'}},numberWithCommas(props.name.caseperM),/*#__PURE__*/React.createElement(\"br\",null),\"active\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"info_block\",style:{color:colors(1),fontSize:'1.3em'}},numberWithCommas(props.name.deathsperM),/*#__PURE__*/React.createElement(\"br\",null),\"deaths\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"info_block\",style:{color:colors(2),fontSize:'1.3em'}},numberWithCommas(props.name.testperM),/*#__PURE__*/React.createElement(\"br\",null),\"test\",/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:'0.8rem',color:'#fff',opacity:'0.6'}},\"cases per millions in \",props.name.name),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"svg\",{id:\"donut\",viewBox:\"0 0 \"+props.width+\" \"+props.height},/*#__PURE__*/React.createElement(\"g\",{ref:ref,transform:\"translate(\".concat(props.outerRadius,\" \").concat(props.outerRadius,\")\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal_info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info_block\",style:{color:colors(0),fontSize:'1.3em'}},numberWithCommas(props.data[0]),/*#__PURE__*/React.createElement(\"br\",null),\"active\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"info_block\",style:{color:colors(1),fontSize:'1.3em'}},numberWithCommas(props.data[1]),/*#__PURE__*/React.createElement(\"br\",null),\"deaths\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"info_block\",style:{color:colors(2),fontSize:'1.3em'}},numberWithCommas(props.data[2]),/*#__PURE__*/React.createElement(\"br\",null),\"recoveries\",/*#__PURE__*/React.createElement(\"br\",null))));};export default ModalContent;","map":{"version":3,"sources":["/Users/alexacevedo/git/CovidTracker_Cs481/covid19-tracker/src/components/Modal/Modal_Content.js"],"names":["React","useEffect","useRef","d3","numberWithCommas","x","String","replace","ModalContent","props","ref","createPie","pie","value","d","sort","createArc","arc","innerRadius","outerRadius","colors","scaleOrdinal","schemeCategory10","data","group","select","current","groupWithData","selectAll","exit","remove","console","log","groupWithUpdate","enter","append","attr","path","merge","i","text","centroid","style","fontSize","color","name","opacity","caseperM","deathsperM","testperM","width","height"],"mappings":"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","sourcesContent":["import React,{useEffect,useRef} from 'react';\nimport * as d3 from \"d3\";\nimport './Modal.css'\n\nfunction numberWithCommas(x){\n    return String(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\nconst ModalContent = (props)=>{\n    const ref = useRef(null);\n    const createPie = d3\n      .pie()\n      .value(d => d)\n      .sort(null);\n    const createArc = d3\n      .arc()\n      .innerRadius(props.innerRadius)\n      .outerRadius(props.outerRadius);\n    const colors = d3.scaleOrdinal(d3.schemeCategory10);\n  \n    useEffect(\n      () => {\n        const data = createPie(props.data);\n        const group = d3.select(ref.current);\n        const groupWithData = group.selectAll(\"g.arc\").data(data);\n        groupWithData.exit().remove();\n        console.log(numberWithCommas(props.data[0]));\n\n        const groupWithUpdate = groupWithData\n          .enter()\n          .append(\"g\")\n          .attr(\"class\", \"arc\");\n  \n        const path = groupWithUpdate\n          .append(\"path\")\n          .merge(groupWithData.select(\"path.arc\"));\n  \n        path\n          .attr(\"class\", \"arc\")\n          .attr(\"d\", createArc)\n          .attr(\"fill\", (d, i) => colors(i));\n          \n  \n        const text = groupWithUpdate\n          .append(\"text\")\n          .merge(groupWithData.select(\"text\"));\n  \n        text\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"alignment-baseline\", \"middle\")\n          .attr(\"transform\", d => `translate(${createArc.centroid(d)})`)\n          .style(\"fill\", \"white\")\n      },\n      [props.data]\n    );\nreturn (\n<div className=\"panel\">\n<h1 style={{fontSize: '1.8rem',color:'#fff'}}>{props.name.name}</h1>\n<div style={{fontSize: '1.2rem',color:'#fff',opacity: '0.6'}}>COVID-19 STATUS</div>\n<hr/>\n<div className=\"modal_info\">\n<div className=\"info_block\" style={{color:colors(0),fontSize:'1.3em'}}>{numberWithCommas(props.name.caseperM)}<br/>active<br/></div>\n<div className=\"info_block\" style={{color:colors(1),fontSize:'1.3em'}}>{numberWithCommas(props.name.deathsperM)}<br/>deaths<br/></div>\n<div className=\"info_block\" style={{color:colors(2),fontSize:'1.3em'}}>{numberWithCommas(props.name.testperM)}<br/>test<br/></div>\n</div>\n<div style={{fontSize: '0.8rem',color:'#fff',opacity: '0.6'}}>cases per millions in {props.name.name}</div>\n<hr/>\n<svg id=\"donut\" viewBox={\"0 0 \"+ props.width + \" \" + props.height}>\n      <g\n        ref={ref}\n        transform={`translate(${props.outerRadius} ${props.outerRadius})`}\n      />\n</svg>\n<div className=\"modal_info\">\n<div className=\"info_block\" style={{color:colors(0),fontSize:'1.3em'}}>{numberWithCommas( props.data[0])}<br/>active<br/></div>\n<div className=\"info_block\" style={{color:colors(1),fontSize:'1.3em'}}>{numberWithCommas(props.data[1])}<br/>deaths<br/></div>\n<div className=\"info_block\" style={{color:colors(2),fontSize:'1.3em'}}>{numberWithCommas(props.data[2])}<br/>recoveries<br/></div>\n</div>\n</div>\n)\n\n}\nexport default ModalContent;"]},"metadata":{},"sourceType":"module"}